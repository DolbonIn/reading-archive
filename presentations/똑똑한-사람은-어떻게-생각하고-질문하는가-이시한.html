<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>똑똑한 사람은 어떻게 생각하고 질문하는가 · 대용량 PDF 안내</title>
  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans KR', sans-serif;
      background: radial-gradient(circle at top, #1b2340 0%, #090d1a 60%, #04060c 100%);
      color: rgba(255, 255, 255, 0.92);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 48px 16px;
      box-sizing: border-box;
    }
    main {
      max-width: 760px;
      width: 100%;
      background: rgba(10, 14, 26, 0.85);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 28px;
      box-shadow: 0 40px 80px rgba(0, 0, 0, 0.55);
      padding: clamp(32px, 5vw, 56px);
      text-align: center;
    }
    img {
      width: clamp(180px, 40%, 280px);
      border-radius: 18px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.35);
      margin-bottom: 24px;
    }
    h1 {
      margin: 0;
      font-size: clamp(1.8rem, 4vw, 2.6rem);
    }
    p {
      line-height: 1.7;
      margin: 12px 0;
      color: rgba(255, 255, 255, 0.78);
    }
    .badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 14px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.08);
      font-size: 0.9rem;
      margin-bottom: 8px;
    }
  </style>
</head>
<body>
  <main>
    <div class="badge">PDF 용량 93.1MB</div>
    <img src="../assets/covers/똑똑한-사람은-어떻게-생각하고-질문하는가-이시한.jpg" alt="똑똑한 사람은 어떻게 생각하고 질문하는가 표지" loading="lazy" />
    <h1>똑똑한 사람은 어떻게 생각하고 질문하는가</h1>
    <p>이시한</p>
    <p>이 도서는 원본 PDF 용량이 80MB를 초과하여 AI 프레젠테이션 생성을 건너뛰었습니다.<br/>
    표지와 메타데이터는 준비되어 있으며, 슬라이드 요약은 추후 별도로 업로드될 예정입니다.</p>
  </main>

<script data-reading-archive-scroll-nav>
(function () {
  function findButton(selectors) {
    for (var i = 0; i < selectors.length; i += 1) {
      var el = document.querySelector(selectors[i]);
      if (el) return el;
    }
    return null;
  }

  var nextBtn = findButton(['[data-reading-archive-next]', '[data-slide-next]', '#nextBtn', '.next-slide']);
  var prevBtn = findButton(['[data-reading-archive-prev]', '[data-slide-prev]', '#prevBtn', '.prev-slide']);
  var hasButtonNav = !!(nextBtn || prevBtn);

  function collectSections() {
    var nodes = document.querySelectorAll('.slide, [data-slide], section');
    var list = Array.prototype.slice.call(nodes || []);
    var result = [];
    for (var i = 0; i < list.length; i += 1) {
      var node = list[i];
      if (!node) continue;
      var duplicate = false;
      for (var j = 0; j < result.length; j += 1) {
        if (result[j] === node) {
          duplicate = true;
          break;
        }
      }
      if (duplicate) continue;
      var style = window.getComputedStyle ? window.getComputedStyle(node) : null;
      var visible = node.offsetHeight > 0 && (!style || style.visibility !== 'hidden');
      if (visible) result.push(node);
    }
    return result;
  }

  function buildSectionNavigator(elements) {
    if (!elements || elements.length <= 1) return null;
    var index = 0;
    var animating = false;

    function clamp(value) {
      if (value < 0) return 0;
      if (value > elements.length - 1) return elements.length - 1;
      return value;
    }

    function syncIndex() {
      var best = index;
      var bestDist = Infinity;
      for (var i = 0; i < elements.length; i += 1) {
        var rect = elements[i].getBoundingClientRect();
        var dist = Math.abs(rect.top);
        if (dist < bestDist) {
          bestDist = dist;
          best = i;
        }
      }
      index = best;
    }

    function smoothScroll(target) {
      var top = window.scrollY + target.getBoundingClientRect().top;
      if (typeof window.scrollTo === 'function') {
        try {
          window.scrollTo({ top: top, behavior: 'smooth' });
        } catch (err) {
          window.scrollTo(0, top);
        }
      } else {
        document.documentElement.scrollTop = top;
        document.body.scrollTop = top;
      }
    }

    function scrollToIndex(next) {
      next = clamp(next);
      if (next === index) return false;
      animating = true;
      index = next;
      smoothScroll(elements[index]);
      setTimeout(function () {
        animating = false;
      }, 420);
      return true;
    }

    window.addEventListener('resize', syncIndex);

    return {
      move: function (step) {
        if (animating) return false;
        syncIndex();
        return scrollToIndex(index + step);
      },
    };
  }

  var sectionNav = null;
  if (!hasButtonNav) {
    sectionNav = buildSectionNavigator(collectSections());
  }
  var hasAnyNavigation = hasButtonNav || !!sectionNav;
  if (!hasAnyNavigation) return;

  var lock = false;
  var lockTimer = null;

  function armLock() {
    lock = true;
    clearTimeout(lockTimer);
    lockTimer = setTimeout(function () {
      lock = false;
    }, 420);
  }

  function canUseButton(btn) {
    if (!btn) return false;
    if (typeof btn.disabled === 'boolean' && btn.disabled) return false;
    var aria = btn.getAttribute ? btn.getAttribute('aria-disabled') : null;
    if (aria && aria.toLowerCase() === 'true') return false;
    return true;
  }

  function trigger(step) {
    if (!step || lock) return;
    var handled = false;
    if (step > 0) {
      if (canUseButton(nextBtn)) {
        nextBtn.click();
        handled = true;
      } else if (sectionNav && sectionNav.move(1)) {
        handled = true;
      }
    } else if (step < 0) {
      if (canUseButton(prevBtn)) {
        prevBtn.click();
        handled = true;
      } else if (sectionNav && sectionNav.move(-1)) {
        handled = true;
      }
    }
    if (handled) {
      armLock();
    }
  }

  window.addEventListener('wheel', function (event) {
    if (Math.abs(event.deltaY) < 24) return;
    event.preventDefault();
    trigger(event.deltaY);
  }, { passive: false });

  if (!hasButtonNav && sectionNav) {
    window.addEventListener('keydown', function (event) {
      if (['ArrowDown', 'PageDown', ' ', 'Spacebar'].indexOf(event.key) !== -1) {
        event.preventDefault();
        trigger(1);
      } else if (['ArrowUp', 'PageUp'].indexOf(event.key) !== -1) {
        event.preventDefault();
        trigger(-1);
      }
    });
  }

  var touchStartY = null;
  var touchStartX = null;

  window.addEventListener('touchstart', function (event) {
    if (event.touches.length !== 1) return;
    touchStartY = event.touches[0].clientY;
    touchStartX = event.touches[0].clientX;
  }, { passive: true });

  window.addEventListener('touchend', function (event) {
    if (touchStartY === null) return;
    var touch = event.changedTouches[0];
    var dy = touchStartY - touch.clientY;
    var dx = touchStartX - touch.clientX;
    touchStartY = null;
    touchStartX = null;
    if (Math.abs(dy) < 40 || Math.abs(dy) < Math.abs(dx)) return;
    trigger(dy);
  }, { passive: true });

  window.addEventListener('touchcancel', function () {
    touchStartY = null;
    touchStartX = null;
  }, { passive: true });
})();
</script>
</body>
</html>
